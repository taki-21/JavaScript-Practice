<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

  <script>
    // 関数
    // function test1() {
    //   return '関数1'
    // }
    //
    // console.log(test1())
    //
    // const test2 = () => {
    //   return '関数2'
    // }
    // console.log(test2())
    //
    // //Promise
    // // 1: 状態(ok/ng)と値
    // // 2: Promiseチェーン
    //
    // function promiseTest1() {
    //   return new Promise((ok) => {
    //     ok('プロミス1です');
    //   });
    // }
    //
    // console.log(promiseTest1());
    //
    // function testPromise3(input) {
    //   return new Promise((ok) => {
    //     ok(`プロミス${input}です`);
    //   })
    // }
    // console.log(testPromise3('太郎'))


    function promiseTest4(pay) {
      return new Promise((ok, ng) => {
        if (pay > 100) {
          let change = pay - 100
          ok(change);
        }
        ng('お金がありません')
      })
    }
    console.log(promiseTest4(80).catch((e)=> {
      console.log(e)
    }))
    promiseTest4(180).then((change) => {
      console.log(change);
      return promiseTest4(change);
    }).then(change => {
      console.log(change);
    }).catch(e => console.log(e));
    
  </script>
</body>

</html>
